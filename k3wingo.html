<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SYNZIO ULTRA V4</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    /* -------- Body & Canvas -------- */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Share Tech', sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #fff;
      background: #0f2027;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }

    /* -------- Glass Container -------- */
    .container {
      width: 360px;
      background: rgba(255,255,255,0.08);
      border-radius: 18px;
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
      overflow: hidden;
      padding: 22px;
      animation: fadeIn 1s ease;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(20px);}
      to {opacity: 1; transform: translateY(0);}
    }

    /* -------- Header -------- */
    .header {
      text-align: center;
      margin-bottom: 18px;
    }
    .header h1 {
      font-size: 32px;
      margin: 0;
      color: cyan;
    }
    .subtext {
      font-size: 13px;
      opacity: 0.7;
    }

    /* -------- Cards -------- */
    .card {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 14px;
      padding: 12px 16px;
      margin-bottom: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .card span {
      font-size: 16px;
    }
    .card i {
      margin-right: 8px;
      color: cyan;
    }

    /* -------- Result Highlight -------- */
    #result {
      font-size: 24px;
      font-weight: bold;
      transition: all 0.3s ease;
    }

    /* -------- History -------- */
    .history-container {
      margin-top: 12px;
    }
    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      font-size: 16px;
      color: cyan;
    }
    .history-header i {
      cursor: pointer;
      color: cyan;
    }
    .history {
      max-height: 180px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .history-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 12px;
      background: rgba(255,255,255,0.07);
      border-radius: 10px;
      font-size: 14px;
    }
    .history-item span {
      display: flex;
      align-items: center;
    }
    .badge {
      padding: 2px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: bold;
    }
    .odd { background: #FF6B6B22; color: #FF6B6B; }
    .even { background: #4ECDC422; color: lime; }

    .delete-btn {
      margin-left: 8px;
      cursor: pointer;
      color: #FF6B6B;
      font-size: 14px;
    }

    /* -------- Footer -------- */
    .footer {
      margin-top: 14px;
      text-align: center;
      font-size: 14px;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <canvas id="electricCanvas"></canvas>
  <div class="container">
    <div class="header">
      <h1><i class="fab fa-napster"></i> SYNZIO ULTRA V4</h1>
      <p class="subtext"><i class="fa-solid fa-server"></i> K3 Wingo Hack</p>
    </div>

    <!-- Info Cards -->
    <div class="card">
      <span><i class="fa-regular fa-calendar"></i> Period</span>
      <span id="period">00000</span>
    </div>
    <div class="card">
      <span><i class="fa-regular fa-hourglass-half fa-spin"></i> Time Left</span>
      <span id="timer">00:60</span>
    </div>
    <div class="card">
      <span><i class="fa-solid fa-rocket"></i> Prediction</span>
      <span id="result">Pending...</span>
    </div>

    <!-- History -->
    <div class="history-container">
      <div class="history-header">
        <span><i class="fa-solid fa-clock-rotate-left"></i> History</span>
        <i class="fa-solid fa-trash-alt" onclick="clearHistory()" title="Clear History"></i>
      </div>
      <div class="history" id="history"></div>
    </div>

    <div class="footer">
      <i class="fas fa-crown"></i> Owner of this hack is @Synzio005
    </div>
  </div>

<script>
  // ---------- Electric Background ----------
  const canvas = document.getElementById('electricCanvas');
  const ctx = canvas.getContext('2d');
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;

  const bolts = [];
  const boltCount = 5;

  class Bolt {
    constructor() { this.reset(); }
    reset() {
      this.x = Math.random() * width;
      this.y = Math.random() * height;
      this.length = 10 + Math.random() * 30;
      this.speed = 0.5 + Math.random() * 1.5;
      this.opacity = Math.random() * 0.7;
      this.direction = Math.random() < 0.5 ? -1 : 1;
    }
    draw() {
      ctx.beginPath();
      ctx.moveTo(this.x, this.y);
      ctx.lineTo(this.x + this.direction * this.length, this.y + this.length);
      ctx.strokeStyle = `rgba(0,255,255,${this.opacity})`;
      ctx.lineWidth = 1.5;
      ctx.stroke();
      this.update();
    }
    update() {
      this.y += this.speed * 2;
      this.x += this.direction * this.speed;
      if(this.y > height || this.x < 0 || this.x > width) this.reset();
    }
  }

  for(let i=0;i<boltCount;i++) bolts.push(new Bolt());

  function animateElectric() {
    ctx.fillStyle = 'rgba(15,32,39,0.2)';
    ctx.fillRect(0,0,width,height);
    bolts.forEach(b=>b.draw());
    requestAnimationFrame(animateElectric);
  }
  animateElectric();

  window.addEventListener('resize',()=>{
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  // ---------- Original Prediction Logic ----------
  let lastPeriod = "";
  let resultHistory = JSON.parse(localStorage.getItem("k3ResultHistory")) || [];
  const maxHistory = 10;

  function updatePeriodAndTimer() {
    let now = new Date();
    let calendar = new Date(now.getTime() + now.getTimezoneOffset() * 60000); 
    let seconds = calendar.getSeconds();
    let remainingSeconds = 60 - seconds;
    let minutes = calendar.getMinutes();
    let totalMinutes = calendar.getHours() * 60 + minutes;

    let periodNumber = new Intl.DateTimeFormat('en-GB', { 
      year: 'numeric', 
      month: '2-digit', 
      day: '2-digit' 
    }).format(calendar).replace(/\//g, '') + "1000" + (10001 + totalMinutes);

    if (periodNumber !== lastPeriod) {
      lastPeriod = periodNumber;
      generateResult(periodNumber); 
    }

    document.getElementById("period").innerText = periodNumber.slice(-5);
    document.getElementById("timer").innerText = `00:${String(remainingSeconds).padStart(2, '0')}`;

    setTimeout(updatePeriodAndTimer, 1000);
  }

  function generateResult(periodId) {
    const lastFourDigits = periodId.slice(-4);
    const digits = lastFourDigits.split('').map(Number);
    
    const sum = digits.reduce((a, b) => a + b, 0);
    const product = digits.reduce((a, b) => a * b, 1);
    const predictionValue = (sum + product) % 10;
    
    let result;
    if (predictionValue === 0 || predictionValue === 5) {
      result = "ODD";
    } else if (predictionValue % 2 === 0) {
      result = "EVEN";
    } else {
      result = "ODD";
    }
    
    let resultElement = document.getElementById("result");
    resultElement.innerText = result;
    resultElement.style.color = result === "ODD" ? "#FF6B6B" : "lime";

    resultHistory.unshift({period: periodId.slice(-5), prediction: result});
    if(resultHistory.length>maxHistory) resultHistory.pop();
    localStorage.setItem("k3ResultHistory", JSON.stringify(resultHistory));
    updateHistoryDisplay();
  }

  function updateHistoryDisplay() {
    const historyContainer = document.getElementById("history");
    historyContainer.innerHTML='';
    resultHistory.forEach((item,index)=>{
      const historyItem=document.createElement("div");
      historyItem.className="history-item";
      historyItem.innerHTML = `
        <span><i class="fa-regular fa-calendar"></i>  ${item.period}</span>
        <span class="badge ${item.prediction==="ODD"?"odd":"even"}">${item.prediction}</span>
        <i class="fas fa-trash delete-btn" onclick="deleteEntry(${index})" title="Delete"></i>
      `;
      historyContainer.appendChild(historyItem);
    });
  }

  function deleteEntry(index){
    resultHistory.splice(index,1);
    localStorage.setItem("k3ResultHistory", JSON.stringify(resultHistory));
    updateHistoryDisplay();
  }

  function clearHistory(){
    resultHistory=[];
    localStorage.setItem("k3ResultHistory", JSON.stringify(resultHistory));
    updateHistoryDisplay();
  }

  document.addEventListener('DOMContentLoaded',()=>{
    updateHistoryDisplay();
    updatePeriodAndTimer();
  });
</script>
</body>
</html>
